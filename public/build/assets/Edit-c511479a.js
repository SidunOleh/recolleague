import{_ as h,o as d,c as p,a as e,w as n,v as o,n as a,F as _,d as x,g as m}from"./app-0de93b8b.js";const f={data(){return{chatRequest:{model:null,request_text:null,styles:[],temperature:null,max_tokens:null,presence_penalty:null,frequency_penalty:null},errors:{},newStyle:{}}},methods:{getChatRequest(){this.$emit("loading"),axios.get("/api/admin/chat-request").then(r=>{this.chatRequest=r.data.data}).catch(r=>{alert("Something goes wrong. Try again.")}).finally(()=>{this.$emit("loaded")})},addStyle(){if(!this.newStyle.name||!this.newStyle.text){alert("Enter new style.");return}this.chatRequest.styles.push({name:this.newStyle.name,text:this.newStyle.text}),this.newStyle={}},deleteStyle(r){this.chatRequest.styles=this.chatRequest.styles.filter((l,c)=>c!=r)},editRequest(){this.$emit("loading"),axios.put("/api/admin/chat-request",this.chatRequest).then(r=>{alert("Chat request was updated.")}).catch(r=>{this.errors=r.response.data.errors}).finally(()=>{this.$emit("loaded")})}},mounted(){this.getChatRequest()},unmounted(){this.$emit("loaded")}},q={class:"chat-request-edit"},b={class:"form-group mb-4"},w=e("label",{for:"model",class:"mb-1"}," Chat model ",-1),R={class:"form-group mb-4"},g=e("label",{for:"text",class:"mb-1"}," Request text ",-1),v={class:"form-group mb-4"},S=e("label",{for:"style",class:"mb-1"}," Styles ",-1),k={class:"d-flex mb-1"},V={class:"list-group styles"},U={class:"list-group-item d-flex justify-content-between align-items-center"},C=["onUpdate:modelValue"],P=["onUpdate:modelValue"],O=["onClick"],E={class:"form-group mb-4"},T=e("label",{for:"temperature",class:"mb-1"},[m(" Temperature "),e("br"),e("mark",null,"min: 0.0, max: 2.0")],-1),B={class:"form-group mb-4"},D=e("label",{for:"max_tokens",class:"mb-1"},[m(" Token counts "),e("br"),e("mark",null,"min: 1")],-1),F={class:"form-group mb-4"},N=e("label",{for:"presence_penalty",class:"mb-1"},[m(" Presence penalty "),e("br"),e("mark",null,"min: -2.0, max: 2.0")],-1),j={class:"form-group mb-4"},z=e("label",{for:"frequency_penalty",class:"mb-1"},[m(" Frequency penalty "),e("br"),e("mark",null,"min: -2.0, max: 2.0")],-1);function A(r,l,c,I,t,i){return d(),p("div",q,[e("div",b,[w,n(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>t.chatRequest.model=s),type:"text",class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("model")}]),id:"model",placeholder:"ID of the model to use"},null,2),[[o,t.chatRequest.model]])]),e("div",R,[g,n(e("textarea",{"onUpdate:modelValue":l[1]||(l[1]=s=>t.chatRequest.request_text=s),class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("request_text")}]),id:"text",rows:"13",placeholder:"Contents of request message"},null,2),[[o,t.chatRequest.request_text]])]),e("div",v,[S,e("div",k,[n(e("input",{"onUpdate:modelValue":l[2]||(l[2]=s=>t.newStyle.name=s),type:"text",class:a(["form-control me-2",{"is-invalid":t.errors.hasOwnProperty("styles")}]),id:"style",placeholder:"Style name"},null,2),[[o,t.newStyle.name]]),n(e("input",{"onUpdate:modelValue":l[3]||(l[3]=s=>t.newStyle.text=s),type:"text",class:a(["form-control me-2",{"is-invalid":t.errors.hasOwnProperty("styles")}]),id:"style",placeholder:"Style text"},null,2),[[o,t.newStyle.text]]),e("button",{onClick:l[4]||(l[4]=(...s)=>i.addStyle&&i.addStyle(...s)),type:"button",class:"btn btn-primary"}," Add ")]),e("ul",V,[(d(!0),p(_,null,x(t.chatRequest.styles,(s,y)=>(d(),p("li",U,[n(e("input",{"onUpdate:modelValue":u=>s.name=u,type:"text",class:"form-control me-2",id:"style",placeholder:"Style name"},null,8,C),[[o,s.name]]),n(e("input",{"onUpdate:modelValue":u=>s.text=u,type:"text",class:"form-control me-2",id:"style",placeholder:"Style text"},null,8,P),[[o,s.text]]),e("span",{onClick:u=>i.deleteStyle(y),class:"delete-style text-danger",title:"Delete"}," x ",8,O)]))),256))])]),e("div",E,[T,n(e("input",{"onUpdate:modelValue":l[5]||(l[5]=s=>t.chatRequest.temperature=s),type:"number",min:"0",max:"2",step:"0.1",class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("temperature")}]),id:"temperature",placeholder:"0"},null,2),[[o,t.chatRequest.temperature]])]),e("div",B,[D,n(e("input",{"onUpdate:modelValue":l[6]||(l[6]=s=>t.chatRequest.max_tokens=s),type:"number",min:"1",step:"1",class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("max_tokens")}]),id:"max_tokens",placeholder:"1000"},null,2),[[o,t.chatRequest.max_tokens]])]),e("div",F,[N,n(e("input",{"onUpdate:modelValue":l[7]||(l[7]=s=>t.chatRequest.presence_penalty=s),type:"number",min:"-2",max:"2",step:"0.1",class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("presence_penalty")}]),id:"presence_penalty",placeholder:"0"},null,2),[[o,t.chatRequest.presence_penalty]])]),e("div",j,[z,n(e("input",{"onUpdate:modelValue":l[8]||(l[8]=s=>t.chatRequest.frequency_penalty=s),type:"number",min:"-2",max:"2",step:"0.1",class:a(["form-control",{"is-invalid":t.errors.hasOwnProperty("frequency_penalty")}]),id:"frequency_penalty",placeholder:"0"},null,2),[[o,t.chatRequest.frequency_penalty]])]),e("button",{onClick:l[9]||(l[9]=(...s)=>i.editRequest&&i.editRequest(...s)),type:"button",class:"btn btn-primary"}," Edit request ")])}const M=h(f,[["render",A]]);export{M as default};
