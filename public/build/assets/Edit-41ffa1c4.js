import{_ as x,o as m,c,a as e,w as r,v as a,n as d,F as h,e as _,h as y}from"./app-b647b929.js";const q={data(){return{chatRequest:{model:null,request_text:[],styles:[],temperature:null,max_tokens:null,presence_penalty:null,frequency_penalty:null},errors:{},newStyle:{}}},methods:{getChatRequest(){this.$emit("loading"),axios.get("/api/admin/chat-request").then(n=>{this.chatRequest=n.data.data}).catch(n=>{alert("Something goes wrong. Try again.")}).finally(()=>{this.$emit("loaded")})},addStyle(){if(!this.newStyle.name||!this.newStyle.text){alert("Enter new style.");return}this.chatRequest.styles.push({name:this.newStyle.name,text:this.newStyle.text}),this.newStyle={}},deleteStyle(n){this.chatRequest.styles=this.chatRequest.styles.filter((s,u)=>u!=n)},editRequest(){this.$emit("loading"),axios.put("/api/admin/chat-request",this.chatRequest).then(n=>{alert("Chat request was updated.")}).catch(n=>{this.errors=n.response.data.errors}).finally(()=>{this.$emit("loaded")})},addNewRequestText(){this.chatRequest.request_text.push({name:"",text:""})},deleteRequestText(n){this.chatRequest.request_text=this.chatRequest.request_text.filter((s,u)=>u!=n)},focusinRequestText(n){const s=document.getElementsByClassName("request-text");for(const u of s)u.classList.add("d-none");for(const u of n.target.parentElement.parentElement.children)u.tagName=="TEXTAREA"&&u.classList.remove("d-none")}},mounted(){this.getChatRequest()},unmounted(){this.$emit("loaded")}},f={class:"chat-request-edit"},b={class:"form-group mb-4"},R=e("label",{for:"model",class:"mb-1"}," Chat model ",-1),w={class:"form-group mb-4"},v=e("label",{for:"text",class:"mb-1"}," Request text ",-1),g={class:"mb-3"},S={class:"d-flex justify-content-between align-items-center mb-2"},k=["onUpdate:modelValue"],V=["onClick"],T=["onUpdate:modelValue"],U={class:"form-group mb-4"},C=e("label",{for:"style",class:"mb-1"}," Styles ",-1),E={class:"d-flex mb-1"},P={class:"list-group styles"},O={class:"list-group-item d-flex justify-content-between align-items-center"},N=["onUpdate:modelValue"],A=["onUpdate:modelValue"],B=["onClick"],D={class:"form-group mb-4"},F=e("label",{for:"temperature",class:"mb-1"},[y(" Temperature "),e("br"),e("mark",null,"min: 0.0, max: 2.0")],-1),L={class:"form-group mb-4"},j=e("label",{for:"max_tokens",class:"mb-1"},[y(" Token counts "),e("br"),e("mark",null,"min: 1")],-1),z={class:"form-group mb-4"},H=e("label",{for:"presence_penalty",class:"mb-1"},[y(" Presence penalty "),e("br"),e("mark",null,"min: -2.0, max: 2.0")],-1),I={class:"form-group mb-4"},M=e("label",{for:"frequency_penalty",class:"mb-1"},[y(" Frequency penalty "),e("br"),e("mark",null,"min: -2.0, max: 2.0")],-1);function X(n,s,u,G,l,i){return m(),c("div",f,[e("div",b,[R,r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.chatRequest.model=t),type:"text",class:d(["form-control",{"is-invalid":l.errors.hasOwnProperty("model")}]),id:"model",placeholder:"ID of the model to use"},null,2),[[a,l.chatRequest.model]])]),e("div",w,[v,(m(!0),c(h,null,_(l.chatRequest.request_text,(t,p)=>(m(),c("div",g,[e("div",S,[r(e("input",{"onUpdate:modelValue":o=>t.name=o,type:"text",class:d(["form-control request-name",{"is-invalid":l.errors.hasOwnProperty("request_text")}]),placeholder:"Home type",onFocusin:s[1]||(s[1]=(...o)=>i.focusinRequestText&&i.focusinRequestText(...o))},null,42,k),[[a,t.name]]),e("span",{onClick:o=>i.deleteRequestText(p),class:"delete text-danger",title:"Delete"}," x ",8,V)]),r(e("textarea",{"onUpdate:modelValue":o=>t.text=o,class:d(["form-control request-text"+(p==0?"":" d-none"),{"is-invalid":l.errors.hasOwnProperty("request_text")}]),rows:"13",placeholder:"Request text"},null,10,T),[[a,t.text]])]))),256)),e("div",{class:"btn btn-primary",onClick:s[2]||(s[2]=(...t)=>i.addNewRequestText&&i.addNewRequestText(...t))},"Add new request text")]),e("div",U,[C,e("div",E,[r(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.newStyle.name=t),type:"text",class:d(["form-control me-2",{"is-invalid":l.errors.hasOwnProperty("styles")}]),id:"style",placeholder:"Style name"},null,2),[[a,l.newStyle.name]]),r(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>l.newStyle.text=t),type:"text",class:d(["form-control me-2",{"is-invalid":l.errors.hasOwnProperty("styles")}]),id:"style",placeholder:"Style text"},null,2),[[a,l.newStyle.text]]),e("button",{onClick:s[5]||(s[5]=(...t)=>i.addStyle&&i.addStyle(...t)),type:"button",class:"btn btn-primary"}," Add ")]),e("ul",P,[(m(!0),c(h,null,_(l.chatRequest.styles,(t,p)=>(m(),c("li",O,[r(e("input",{"onUpdate:modelValue":o=>t.name=o,type:"text",class:"form-control me-2",id:"style",placeholder:"Style name"},null,8,N),[[a,t.name]]),r(e("input",{"onUpdate:modelValue":o=>t.text=o,type:"text",class:"form-control me-2",id:"style",placeholder:"Style text"},null,8,A),[[a,t.text]]),e("span",{onClick:o=>i.deleteStyle(p),class:"delete text-danger",title:"Delete"}," x ",8,B)]))),256))])]),e("div",D,[F,r(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.chatRequest.temperature=t),type:"number",min:"0",max:"2",step:"0.1",class:d(["form-control",{"is-invalid":l.errors.hasOwnProperty("temperature")}]),id:"temperature",placeholder:"0"},null,2),[[a,l.chatRequest.temperature]])]),e("div",L,[j,r(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>l.chatRequest.max_tokens=t),type:"number",min:"1",step:"1",class:d(["form-control",{"is-invalid":l.errors.hasOwnProperty("max_tokens")}]),id:"max_tokens",placeholder:"1000"},null,2),[[a,l.chatRequest.max_tokens]])]),e("div",z,[H,r(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>l.chatRequest.presence_penalty=t),type:"number",min:"-2",max:"2",step:"0.1",class:d(["form-control",{"is-invalid":l.errors.hasOwnProperty("presence_penalty")}]),id:"presence_penalty",placeholder:"0"},null,2),[[a,l.chatRequest.presence_penalty]])]),e("div",I,[M,r(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>l.chatRequest.frequency_penalty=t),type:"number",min:"-2",max:"2",step:"0.1",class:d(["form-control",{"is-invalid":l.errors.hasOwnProperty("frequency_penalty")}]),id:"frequency_penalty",placeholder:"0"},null,2),[[a,l.chatRequest.frequency_penalty]])]),e("button",{onClick:s[10]||(s[10]=(...t)=>i.editRequest&&i.editRequest(...t)),type:"button",class:"btn btn-primary"}," Edit request ")])}const K=x(q,[["render",X]]);export{K as default};
